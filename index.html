<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–≠–∫—Å–ø–µ—Ä—Ç–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ –æ–Ω–ª–∞–π–Ω</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
</head>
<body>
    <div class="container">
        <header>
            <h1>–≠–∫—Å–ø–µ—Ä—Ç–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ –æ–Ω–ª–∞–π–Ω</h1>
            <div class="subtitle">–°–∏—Å—Ç–µ–º–∞ –∫–æ–ª–ª–µ–∫—Ç–∏–≤–Ω–æ–≥–æ –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏–π</div>
        </header>
        
        <div class="content">
            <!-- –®–∞–≥ 1: –°–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Å—Å–∏–∏ -->
            <div class="step active" id="step1">
                <h2>–°–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Å—Å–∏–∏ –æ—Ü–µ–Ω–∫–∏</h2>
                
                <div class="form-group">
                    <label for="sessionName">–ù–∞–∑–≤–∞–Ω–∏–µ —Å–µ—Å—Å–∏–∏:</label>
                    <input type="text" id="sessionName" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –í—ã–±–æ—Ä –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞ 2024">
                </div>
                
                <div class="form-group">
                    <label for="expertsCount">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–∫—Å–ø–µ—Ä—Ç–æ–≤:</label>
                    <input type="number" id="expertsCount" min="1" max="50" value="5">
                </div>
                
                <div class="form-group">
                    <label for="objectsCount">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±—ä–µ–∫—Ç–æ–≤:</label>
                    <input type="number" id="objectsCount" min="1" max="20" value="4">
                </div>
                
                <div class="form-group">
                    <label>–ú–µ—Ç–æ–¥ –æ—Ü–µ–Ω–∫–∏:</label>
                    <select id="evaluationMethod">
                        <option value="direct">–ù–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ (0-10)</option>
                        <option value="ranking">–†–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏–µ</option>
                        <option value="pairwise">–ü–∞—Ä–Ω–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ</option>
                    </select>
                </div>
                
                <button class="btn btn-primary" onclick="createSession()">–°–æ–∑–¥–∞—Ç—å —Å–µ—Å—Å–∏—é</button>
            </div>
            
            <!-- –®–∞–≥ 2: –ü—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ —ç–∫—Å–ø–µ—Ä—Ç–æ–≤ -->
            <div class="step" id="step2">
                <h2>–ü—Ä–∏–≥–ª–∞—Å–∏—Ç–µ —ç–∫—Å–ø–µ—Ä—Ç–æ–≤</h2>
                <p>–°–µ—Å—Å–∏—è: <strong id="currentSessionName"></strong></p>
                
                <div class="invitation-container">
                    <div class="invitation-card">
                        <h3>üîó –°—Å—ã–ª–∫–∞ –¥–ª—è –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è</h3>
                        <div class="link-container">
                            <input type="text" id="invitationLink" readonly>
                            <button class="btn btn-copy" onclick="copyLink()">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
                        </div>
                    </div>
                    
                    <div class="invitation-card">
                        <h3>üì± QR-–∫–æ–¥</h3>
                        <div id="qrcode"></div>
                        <p>–û—Ç—Å–∫–∞–Ω–∏—Ä—É–π—Ç–µ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è</p>
                    </div>
                    
                    <div class="invitation-card">
                        <h3>üë• –ö–æ–¥ —Å–µ—Å—Å–∏–∏</h3>
                        <div class="session-code" id="sessionCodeDisplay">---</div>
                        <p>–≠–∫—Å–ø–µ—Ä—Ç—ã –º–æ–≥—É—Ç –≤–≤–µ—Å—Ç–∏ —ç—Ç–æ—Ç –∫–æ–¥ –Ω–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ</p>
                    </div>
                </div>
                
                <div class="experts-progress">
                    <h3>–ü–æ–¥–∫–ª—é—á–∏–≤—à–∏–µ—Å—è —ç–∫—Å–ø–µ—Ä—Ç—ã</h3>
                    <div id="connectedExperts" class="experts-list">
                        <div class="empty-state">–ü–æ–∫–∞ –Ω–∏–∫—Ç–æ –Ω–µ –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–∏–ª—Å—è</div>
                    </div>
                    <div class="progress-info">
                        <span id="connectedCount">0</span> –∏–∑ <span id="totalExperts">5</span> —ç–∫—Å–ø–µ—Ä—Ç–æ–≤
                    </div>
                </div>
                
                <div class="navigation">
                    <button class="btn btn-secondary" onclick="prevStep(1)">–ù–∞–∑–∞–¥</button>
                    <button class="btn btn-primary" onclick="startVoting()" id="startVotingBtn" disabled>
                        –ù–∞—á–∞—Ç—å –æ—Ü–µ–Ω–∫—É
                    </button>
                </div>
            </div>
            
            <!-- –®–∞–≥ 3: –ì–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ (–∞–¥–º–∏–Ω –ø—Ä–æ—Å–º–æ—Ç—Ä) -->
            <div class="step" id="step3">
                <h2>–ü—Ä–æ—Ü–µ—Å—Å –æ—Ü–µ–Ω–∫–∏</h2>
                <p>–°–µ—Å—Å–∏—è: <strong id="votingSessionName"></strong></p>
                
                <div class="voting-progress">
                    <div class="progress-header">
                        <h3>–°—Ç–∞—Ç—É—Å –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è</h3>
                        <div class="timer" id="votingTimer">--:--</div>
                    </div>
                    
                    <div id="votingProgress" class="progress-grid">
                        <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è -->
                    </div>
                </div>
                
                <div class="navigation">
                    <button class="btn btn-secondary" onclick="prevStep(2)">–ù–∞–∑–∞–¥ –∫ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è–º</button>
                    <button class="btn btn-primary" onclick="showResults()" id="showResultsBtn" disabled>
                        –ü–æ–∫–∞–∑–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
                    </button>
                </div>
            </div>
            
            <!-- –®–∞–≥ 4: –†–µ–∑—É–ª—å—Ç–∞—Ç—ã -->
            <div class="step" id="step4">
                <h2>–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ—Ü–µ–Ω–∫–∏</h2>
                <p>–°–µ—Å—Å–∏—è: <strong id="resultsSessionName"></strong></p>
                
                <div id="resultsContainer">
                    <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –±—É–¥—É—Ç –∑–¥–µ—Å—å -->
                </div>
                
                <div class="session-actions">
                    <button class="btn btn-primary" onclick="createNewSession()">–ù–æ–≤–∞—è —Å–µ—Å—Å–∏—è</button>
                    <button class="btn btn-secondary" onclick="exportResults()">–≠–∫—Å–ø–æ—Ä—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤</button>
                </div>
            </div>
        </div>
    </div>

    <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ —ç–∫—Å–ø–µ—Ä—Ç–∞ -->
    <div class="expert-page" id="expertPage" style="display: none;">
        <div class="container">
            <header>
                <h1>–≠–∫—Å–ø–µ—Ä—Ç–Ω–∞—è –æ—Ü–µ–Ω–∫–∞</h1>
                <div class="subtitle">–ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç–µ—Å—å –∫ —Å–µ—Å—Å–∏–∏ –æ—Ü–µ–Ω–∫–∏</div>
            </header>
            
            <!-- –û—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è -->
            <div id="debugInfo" style="display: none; background: #f8d7da; padding: 10px; margin: 10px; border-radius: 5px;">
                <strong>–û—Ç–ª–∞–¥–∫–∞:</strong> 
                <span id="debugText"></span>
            </div>
            
            <div class="content">
                <!-- –§–æ—Ä–º–∞ –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è -->
                <div class="step active" id="expertJoin">
                    <h2>–ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è –∫ —Å–µ—Å—Å–∏–∏</h2>
                    
                    <div class="form-group">
                        <label for="expertName">–í–∞—à–µ –∏–º—è:</label>
                        <input type="text" id="expertName" placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ –∏–º—è">
                    </div>
                    
                    <div class="form-group">
                        <label for="sessionCode">–ö–æ–¥ —Å–µ—Å—Å–∏–∏:</label>
                        <input type="text" id="sessionCode" placeholder="–í–≤–µ–¥–∏—Ç–µ –∫–æ–¥ —Å–µ—Å—Å–∏–∏">
                    </div>
                    
                    <button class="btn btn-primary" onclick="joinSession()">–ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è</button>
                    
                    <div class="alternative-join">
                        <p>–ò–ª–∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –ø–æ —Å—Å—ã–ª–∫–µ, –∫–æ—Ç–æ—Ä—É—é –≤–∞–º –æ—Ç–ø—Ä–∞–≤–∏–ª –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä</p>
                    </div>
                </div>
                
                <!-- –ì–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ —ç–∫—Å–ø–µ—Ä—Ç–∞ -->
                <div class="step" id="expertVoting">
                    <h2>–û—Ü–µ–Ω–∫–∞ –æ–±—ä–µ–∫—Ç–æ–≤</h2>
                    <p>–°–µ—Å—Å–∏—è: <strong id="expertSessionName"></strong></p>
                    
                    <div id="expertVotingContainer">
                        <!-- –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è -->
                    </div>
                    
                    <button class="btn btn-primary" onclick="submitVote()" id="submitVoteBtn">
                        –û—Ç–ø—Ä–∞–≤–∏—Ç—å –æ—Ü–µ–Ω–∫—É
                    </button>
                </div>
                
                <!-- –û–∂–∏–¥–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ -->
                <div class="step" id="expertWaiting">
                    <div class="waiting-container">
                        <h2>–û—Ü–µ–Ω–∫–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞!</h2>
                        <div class="loading-spinner"></div>
                        <p>–û–∂–∏–¥–∞–π—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –æ—Ç –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞</p>
                        <p class="experts-completed">
                            <span id="completedCount">0</span> –∏–∑ <span id="totalExpertsCount">0</span> —ç–∫—Å–ø–µ—Ä—Ç–æ–≤ –∑–∞–≤–µ—Ä—à–∏–ª–∏ –æ—Ü–µ–Ω–∫—É
                        </p>
                    </div>
                </div>
                
                <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –¥–ª—è —ç–∫—Å–ø–µ—Ä—Ç–∞ -->
                <div class="step" id="expertResults">
                    <h2>–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ—Ü–µ–Ω–∫–∏</h2>
                    <div id="expertResultsContainer"></div>
                    <button class="btn btn-secondary" onclick="leaveSession()">–í—ã–π—Ç–∏</button>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
